{% extends "layout.html" %}
{% block content %}

<!-- ğŸ¯ ì „ëµ ì¹´ë“œ ìš”ì•½ -->
<section class="bg-white rounded-xl shadow p-8 mb-10">
  <h2 class="text-2xl font-bold text-gray-900 mb-2">{{ strategy.title }}</h2>
  <p class="text-gray-700 text-sm">{{ strategy.summary }}</p>
</section>

<!-- ğŸ§  ì§êµ°ë³„ í•´ì„ -->
<section class="mb-12">
  <h3 class="text-xl font-semibold text-gray-800 mb-4">ğŸ‘¥ ì§êµ°ë³„ í•´ì„</h3>

  {% if strategy.role_annotations %}
    <ul class="space-y-3">
      {% for role, comment in strategy.role_annotations.items() %}
        <li class="bg-gray-100 rounded-lg p-4 text-sm text-gray-700">
          <strong class="text-gray-900">{{ role }}</strong><br>
          <span>{{ comment }}</span>
        </li>
      {% endfor %}
    </ul>
  {% else %}
    <p class="text-sm text-gray-500">ğŸ“­ ì œê³µëœ ì—­í• ë³„ í•´ì„ì´ ì—†ìŠµë‹ˆë‹¤.</p>
  {% endif %}
</section>

<!-- âœ… ì „ëµ ì„ íƒ ìƒíƒœ í™•ì¸ -->
<section class="mt-8">
  {% if session.user_id %}
    {% if already_selected %}
      <div class="flex items-center gap-2 bg-green-50 border border-green-300 text-green-700 px-4 py-3 rounded-md text-sm">
        âœ… ì´ ì „ëµì„ ì´ë¯¸ ì„ íƒí–ˆìŠµë‹ˆë‹¤.
      </div>
    {% else %}
      <form method="POST" action="/strategy/{{ strategy.id }}/select">
        <button type="submit"
                class="bg-blue-600 hover:bg-blue-700 text-white text-sm font-medium px-6 py-2 rounded-md transition">
          âœ… ì´ ì „ëµ ì„ íƒí•˜ê¸°
        </button>
      </form>
    {% endif %}
  {% else %}
    <p class="text-sm text-gray-500">
      ğŸ” ì „ëµ ì„ íƒì„ í•˜ë ¤ë©´ <a href="/login" class="text-blue-600 underline">ë¡œê·¸ì¸</a>í•˜ì„¸ìš”.
    </p>
  {% endif %}
</section>

{% endblock %}



